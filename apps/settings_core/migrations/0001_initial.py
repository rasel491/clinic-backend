# Generated by Django 5.2.1 on 2026-01-18 05:41

import django.core.validators
import django.db.models.deletion
import django.utils.timezone
import uuid
from decimal import Decimal
from django.conf import settings
from django.db import migrations, models


class Migration(migrations.Migration):

    initial = True

    dependencies = [
        ('accounts', '0003_role_role_config'),
        ('auth', '0012_alter_user_first_name_max_length'),
        ('clinics', '0001_initial'),
        migrations.swappable_dependency(settings.AUTH_USER_MODEL),
    ]

    operations = [
        migrations.CreateModel(
            name='AuditLogConfiguration',
            fields=[
                ('id', models.UUIDField(default=uuid.uuid4, editable=False, primary_key=True, serialize=False)),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('log_level', models.CharField(choices=[('DEBUG', 'Debug'), ('INFO', 'Info'), ('WARNING', 'Warning'), ('ERROR', 'Error'), ('CRITICAL', 'Critical')], default='INFO', max_length=10)),
                ('enable_login_logging', models.BooleanField(default=True)),
                ('enable_data_change_logging', models.BooleanField(default=True)),
                ('enable_financial_logging', models.BooleanField(default=True)),
                ('enable_system_event_logging', models.BooleanField(default=True)),
                ('retention_days', models.PositiveIntegerField(default=365, help_text='Keep logs for X days')),
                ('archive_after_days', models.PositiveIntegerField(default=30, help_text='Archive logs after X days')),
                ('allow_log_export', models.BooleanField(default=True)),
                ('export_requires_approval', models.BooleanField(default=True)),
                ('enable_alerts', models.BooleanField(default=True)),
                ('alert_on_multiple_failures', models.BooleanField(default=True)),
                ('failure_threshold', models.PositiveIntegerField(default=5, help_text='Alert after X consecutive failures')),
                ('branch', models.ForeignKey(on_delete=django.db.models.deletion.PROTECT, to='clinics.branch')),
                ('created_by', models.ForeignKey(editable=False, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='created_%(class)s', to=settings.AUTH_USER_MODEL)),
                ('updated_by', models.ForeignKey(editable=False, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='updated_%(class)s', to=settings.AUTH_USER_MODEL)),
            ],
            options={
                'verbose_name': 'Audit Log Configuration',
                'verbose_name_plural': 'Audit Log Configurations',
                'indexes': [models.Index(fields=['branch'], name='settings_co_branch__20444b_idx')],
                'constraints': [models.UniqueConstraint(fields=('branch',), name='unique_audit_log_configuration')],
            },
        ),
        migrations.CreateModel(
            name='BackupConfiguration',
            fields=[
                ('id', models.UUIDField(default=uuid.uuid4, editable=False, primary_key=True, serialize=False)),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('backup_type', models.CharField(choices=[('FULL', 'Full Backup'), ('INCREMENTAL', 'Incremental Backup'), ('DIFFERENTIAL', 'Differential Backup')], default='FULL', max_length=20)),
                ('storage_type', models.CharField(choices=[('LOCAL', 'Local Storage'), ('AWS_S3', 'Amazon S3'), ('GOOGLE_DRIVE', 'Google Drive'), ('AZURE', 'Microsoft Azure')], default='LOCAL', max_length=20)),
                ('is_active', models.BooleanField(default=True)),
                ('frequency', models.CharField(choices=[('DAILY', 'Daily'), ('WEEKLY', 'Weekly'), ('MONTHLY', 'Monthly')], default='DAILY', max_length=20)),
                ('schedule_time', models.TimeField(default='02:00:00')),
                ('retention_days', models.PositiveIntegerField(default=30, help_text='Keep backups for X days')),
                ('local_path', models.CharField(blank=True, max_length=500)),
                ('aws_bucket', models.CharField(blank=True, max_length=200)),
                ('aws_access_key', models.CharField(blank=True, max_length=500)),
                ('aws_secret_key', models.CharField(blank=True, max_length=500)),
                ('google_drive_folder', models.CharField(blank=True, max_length=500)),
                ('azure_container', models.CharField(blank=True, max_length=200)),
                ('notify_on_success', models.BooleanField(default=True)),
                ('notify_on_failure', models.BooleanField(default=True)),
                ('notify_email', models.EmailField(blank=True, max_length=254)),
                ('last_backup', models.DateTimeField(blank=True, null=True)),
                ('last_backup_size', models.PositiveBigIntegerField(default=0)),
                ('total_backups', models.PositiveIntegerField(default=0)),
                ('successful_backups', models.PositiveIntegerField(default=0)),
                ('failed_backups', models.PositiveIntegerField(default=0)),
                ('branch', models.ForeignKey(on_delete=django.db.models.deletion.PROTECT, to='clinics.branch')),
                ('created_by', models.ForeignKey(editable=False, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='created_%(class)s', to=settings.AUTH_USER_MODEL)),
                ('updated_by', models.ForeignKey(editable=False, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='updated_%(class)s', to=settings.AUTH_USER_MODEL)),
            ],
            options={
                'verbose_name': 'Backup Configuration',
                'verbose_name_plural': 'Backup Configurations',
                'indexes': [models.Index(fields=['branch', 'is_active'], name='settings_co_branch__672d0c_idx'), models.Index(fields=['frequency', 'is_active'], name='settings_co_frequen_95dd7d_idx')],
            },
        ),
        migrations.CreateModel(
            name='BranchSetting',
            fields=[
                ('id', models.UUIDField(default=uuid.uuid4, editable=False, primary_key=True, serialize=False)),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('key', models.CharField(max_length=200)),
                ('name', models.CharField(max_length=200)),
                ('description', models.TextField(blank=True)),
                ('category', models.CharField(choices=[('GENERAL', 'General Settings'), ('FINANCIAL', 'Financial Settings'), ('CLINICAL', 'Clinical Settings'), ('NOTIFICATION', 'Notification Settings'), ('INTEGRATION', 'Integration Settings'), ('SECURITY', 'Security Settings'), ('BACKUP', 'Backup Settings'), ('MAINTENANCE', 'Maintenance Settings')], default='GENERAL', max_length=50)),
                ('data_type', models.CharField(choices=[('STRING', 'String'), ('INTEGER', 'Integer'), ('DECIMAL', 'Decimal'), ('BOOLEAN', 'Boolean'), ('JSON', 'JSON'), ('DATETIME', 'DateTime'), ('DATE', 'Date'), ('TIME', 'Time'), ('CHOICE', 'Choice')], default='STRING', max_length=20)),
                ('string_value', models.CharField(blank=True, max_length=500)),
                ('integer_value', models.IntegerField(blank=True, null=True)),
                ('decimal_value', models.DecimalField(blank=True, decimal_places=4, max_digits=15, null=True)),
                ('boolean_value', models.BooleanField(blank=True, null=True)),
                ('json_value', models.JSONField(blank=True, default=dict)),
                ('datetime_value', models.DateTimeField(blank=True, null=True)),
                ('date_value', models.DateField(blank=True, null=True)),
                ('time_value', models.TimeField(blank=True, null=True)),
                ('choices', models.JSONField(blank=True, default=list)),
                ('override_system', models.BooleanField(default=False, help_text='Override system-wide setting for this branch')),
                ('is_editable', models.BooleanField(default=True)),
                ('requires_manager', models.BooleanField(default=False, help_text='Requires branch manager to modify')),
                ('sort_order', models.PositiveIntegerField(default=0)),
                ('group_name', models.CharField(blank=True, max_length=100)),
                ('help_text', models.TextField(blank=True)),
                ('branch', models.ForeignKey(on_delete=django.db.models.deletion.PROTECT, to='clinics.branch')),
                ('created_by', models.ForeignKey(editable=False, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='created_%(class)s', to=settings.AUTH_USER_MODEL)),
                ('updated_by', models.ForeignKey(editable=False, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='updated_%(class)s', to=settings.AUTH_USER_MODEL)),
            ],
            options={
                'verbose_name': 'Branch Setting',
                'verbose_name_plural': 'Branch Settings',
                'ordering': ['branch', 'category', 'sort_order', 'name'],
                'indexes': [models.Index(fields=['branch', 'key'], name='settings_co_branch__827266_idx'), models.Index(fields=['branch', 'category'], name='settings_co_branch__c63c2c_idx'), models.Index(fields=['override_system'], name='settings_co_overrid_ad5f01_idx')],
                'unique_together': {('branch', 'key')},
            },
        ),
        migrations.CreateModel(
            name='ClinicConfiguration',
            fields=[
                ('id', models.UUIDField(default=uuid.uuid4, editable=False, primary_key=True, serialize=False)),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('clinic_name', models.CharField(max_length=200)),
                ('clinic_logo', models.ImageField(blank=True, null=True, upload_to='clinic_logos/')),
                ('clinic_address', models.TextField()),
                ('clinic_phone', models.CharField(max_length=20)),
                ('clinic_email', models.EmailField(max_length=254)),
                ('clinic_website', models.URLField(blank=True)),
                ('working_days', models.JSONField(default=list, help_text="List of working days (e.g., ['MON', 'TUE', 'WED', 'THU', 'FRI', 'SAT'])")),
                ('opening_time', models.TimeField(default='09:00:00')),
                ('closing_time', models.TimeField(default='18:00:00')),
                ('lunch_start', models.TimeField(default='13:00:00')),
                ('lunch_end', models.TimeField(default='14:00:00')),
                ('appointment_duration', models.PositiveIntegerField(default=30, help_text='Default appointment duration in minutes')),
                ('max_appointments_per_slot', models.PositiveIntegerField(default=1, help_text='Maximum appointments per time slot')),
                ('buffer_time', models.PositiveIntegerField(default=15, help_text='Buffer time between appointments in minutes')),
                ('advance_booking_days', models.PositiveIntegerField(default=30, help_text='Maximum days in advance for booking')),
                ('currency_symbol', models.CharField(default='â‚¹', max_length=5)),
                ('currency_code', models.CharField(default='INR', max_length=3)),
                ('default_tax_rate', models.DecimalField(decimal_places=2, default=Decimal('18.00'), help_text='Default GST percentage', max_digits=5)),
                ('invoice_prefix', models.CharField(default='INV', max_length=10)),
                ('invoice_terms', models.TextField(blank=True)),
                ('invoice_footer', models.TextField(blank=True)),
                ('default_follow_up_days', models.PositiveIntegerField(default=7, help_text='Default follow-up period in days')),
                ('send_appointment_reminders', models.BooleanField(default=True)),
                ('reminder_hours_before', models.PositiveIntegerField(default=24, help_text='Send reminder hours before appointment')),
                ('default_consultation_fee', models.DecimalField(decimal_places=2, default=Decimal('500.00'), max_digits=10)),
                ('enable_digital_prescriptions', models.BooleanField(default=True)),
                ('enable_treatment_plans', models.BooleanField(default=True)),
                ('send_sms_notifications', models.BooleanField(default=True)),
                ('send_email_notifications', models.BooleanField(default=True)),
                ('branch', models.ForeignKey(on_delete=django.db.models.deletion.PROTECT, to='clinics.branch')),
                ('created_by', models.ForeignKey(editable=False, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='created_%(class)s', to=settings.AUTH_USER_MODEL)),
                ('updated_by', models.ForeignKey(editable=False, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='updated_%(class)s', to=settings.AUTH_USER_MODEL)),
            ],
            options={
                'verbose_name': 'Clinic Configuration',
                'verbose_name_plural': 'Clinic Configurations',
                'indexes': [models.Index(fields=['branch'], name='settings_co_branch__97cf4a_idx')],
                'constraints': [models.UniqueConstraint(fields=('branch',), name='unique_clinic_configuration')],
            },
        ),
        migrations.CreateModel(
            name='EmailConfiguration',
            fields=[
                ('id', models.UUIDField(default=uuid.uuid4, editable=False, primary_key=True, serialize=False)),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('provider', models.CharField(choices=[('SMTP', 'SMTP Server'), ('SENDGRID', 'SendGrid'), ('MAILGUN', 'Mailgun'), ('AWS_SES', 'Amazon SES'), ('GMAIL', 'Gmail API')], max_length=20)),
                ('is_active', models.BooleanField(default=True)),
                ('smtp_host', models.CharField(blank=True, max_length=200)),
                ('smtp_port', models.PositiveIntegerField(default=587)),
                ('smtp_username', models.CharField(blank=True, max_length=200)),
                ('smtp_password', models.CharField(blank=True, max_length=500)),
                ('use_tls', models.BooleanField(default=True)),
                ('use_ssl', models.BooleanField(default=False)),
                ('from_email', models.EmailField(max_length=254)),
                ('from_name', models.CharField(blank=True, max_length=200)),
                ('reply_to', models.EmailField(blank=True, max_length=254)),
                ('api_key', models.CharField(blank=True, max_length=500)),
                ('api_secret', models.CharField(blank=True, max_length=500)),
                ('api_url', models.URLField(blank=True)),
                ('total_sent', models.PositiveIntegerField(default=0)),
                ('successful_sent', models.PositiveIntegerField(default=0)),
                ('failed_sent', models.PositiveIntegerField(default=0)),
                ('last_used', models.DateTimeField(blank=True, null=True)),
                ('branch', models.ForeignKey(on_delete=django.db.models.deletion.PROTECT, to='clinics.branch')),
                ('created_by', models.ForeignKey(editable=False, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='created_%(class)s', to=settings.AUTH_USER_MODEL)),
                ('updated_by', models.ForeignKey(editable=False, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='updated_%(class)s', to=settings.AUTH_USER_MODEL)),
            ],
            options={
                'verbose_name': 'Email Configuration',
                'verbose_name_plural': 'Email Configurations',
                'ordering': ['provider', 'is_active'],
                'indexes': [models.Index(fields=['provider', 'is_active'], name='settings_co_provide_fe8062_idx'), models.Index(fields=['is_active'], name='settings_co_is_acti_971f09_idx')],
            },
        ),
        migrations.CreateModel(
            name='Holiday',
            fields=[
                ('id', models.UUIDField(default=uuid.uuid4, editable=False, primary_key=True, serialize=False)),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('name', models.CharField(max_length=200)),
                ('date', models.DateField()),
                ('is_recurring', models.BooleanField(default=True, help_text='Recur every year')),
                ('description', models.TextField(blank=True)),
                ('branch', models.ForeignKey(on_delete=django.db.models.deletion.PROTECT, to='clinics.branch')),
                ('created_by', models.ForeignKey(editable=False, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='created_%(class)s', to=settings.AUTH_USER_MODEL)),
                ('updated_by', models.ForeignKey(editable=False, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='updated_%(class)s', to=settings.AUTH_USER_MODEL)),
            ],
            options={
                'verbose_name': 'Holiday',
                'verbose_name_plural': 'Holidays',
                'ordering': ['date'],
                'indexes': [models.Index(fields=['branch', 'date'], name='settings_co_branch__223681_idx'), models.Index(fields=['is_recurring'], name='settings_co_is_recu_90bab7_idx')],
                'unique_together': {('branch', 'date')},
            },
        ),
        migrations.CreateModel(
            name='NotificationTemplate',
            fields=[
                ('id', models.UUIDField(default=uuid.uuid4, editable=False, primary_key=True, serialize=False)),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('name', models.CharField(max_length=200)),
                ('notification_type', models.CharField(choices=[('SMS', 'SMS'), ('EMAIL', 'Email'), ('BOTH', 'Both')], max_length=10)),
                ('trigger', models.CharField(choices=[('APPOINTMENT_REMINDER', 'Appointment Reminder'), ('APPOINTMENT_CONFIRMATION', 'Appointment Confirmation'), ('APPOINTMENT_CANCELLATION', 'Appointment Cancellation'), ('PAYMENT_RECEIPT', 'Payment Receipt'), ('INVOICE_GENERATED', 'Invoice Generated'), ('FOLLOW_UP_REMINDER', 'Follow-up Reminder'), ('BIRTHDAY_WISH', 'Birthday Wish'), ('NEW_PATIENT_WELCOME', 'New Patient Welcome'), ('LAB_RESULTS', 'Lab Results Ready'), ('CUSTOM', 'Custom')], max_length=50)),
                ('is_active', models.BooleanField(default=True)),
                ('sms_template', models.TextField(blank=True, help_text='SMS template with {{variables}}')),
                ('email_subject', models.CharField(blank=True, max_length=200)),
                ('email_template', models.TextField(blank=True, help_text='HTML email template')),
                ('available_variables', models.JSONField(blank=True, default=list, help_text='List of available template variables')),
                ('send_before_hours', models.PositiveIntegerField(blank=True, help_text='Send this many hours before event', null=True)),
                ('send_after_hours', models.PositiveIntegerField(blank=True, help_text='Send this many hours after event', null=True)),
                ('is_required', models.BooleanField(default=False, help_text='This notification must be sent')),
                ('can_override', models.BooleanField(default=True, help_text='Can be overridden per branch')),
                ('branch', models.ForeignKey(on_delete=django.db.models.deletion.PROTECT, to='clinics.branch')),
                ('created_by', models.ForeignKey(editable=False, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='created_%(class)s', to=settings.AUTH_USER_MODEL)),
                ('updated_by', models.ForeignKey(editable=False, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='updated_%(class)s', to=settings.AUTH_USER_MODEL)),
            ],
            options={
                'verbose_name': 'Notification Template',
                'verbose_name_plural': 'Notification Templates',
                'ordering': ['trigger', 'name'],
                'indexes': [models.Index(fields=['trigger', 'is_active'], name='settings_co_trigger_989ba9_idx'), models.Index(fields=['notification_type', 'is_active'], name='settings_co_notific_cac5dc_idx')],
            },
        ),
        migrations.CreateModel(
            name='RolePermission',
            fields=[
                ('id', models.UUIDField(default=uuid.uuid4, editable=False, primary_key=True, serialize=False)),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('module', models.CharField(max_length=100)),
                ('can_view', models.BooleanField(default=False)),
                ('can_create', models.BooleanField(default=False)),
                ('can_edit', models.BooleanField(default=False)),
                ('can_delete', models.BooleanField(default=False)),
                ('can_approve', models.BooleanField(default=False, help_text='Approval permissions')),
                ('can_export', models.BooleanField(default=False, help_text='Export permissions')),
                ('scope_all_branches', models.BooleanField(default=False, help_text='Can access all branches (for multi-branch roles)')),
                ('custom_permissions', models.JSONField(blank=True, default=dict)),
                ('permission', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='role_permission_mappings', to='auth.permission')),
                ('role', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='django_permission_mappings', to='accounts.role')),
            ],
            options={
                'verbose_name': 'Role Permission',
                'verbose_name_plural': 'Role Permissions',
                'ordering': ['role', 'module'],
                'indexes': [models.Index(fields=['role', 'module'], name='settings_co_role_id_24ea56_idx')],
                'unique_together': {('role', 'module')},
            },
        ),
        migrations.CreateModel(
            name='SMSConfiguration',
            fields=[
                ('id', models.UUIDField(default=uuid.uuid4, editable=False, primary_key=True, serialize=False)),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('provider', models.CharField(choices=[('TWILIO', 'Twilio'), ('TEXTLOCAL', 'TextLocal'), ('MSG91', 'MSG91'), ('FAST2SMS', 'Fast2SMS'), ('CUSTOM', 'Custom API')], max_length=20)),
                ('is_active', models.BooleanField(default=True)),
                ('api_key', models.CharField(blank=True, max_length=500)),
                ('api_secret', models.CharField(blank=True, max_length=500)),
                ('sender_id', models.CharField(blank=True, max_length=20)),
                ('api_url', models.URLField(blank=True)),
                ('priority', models.PositiveIntegerField(default=1, help_text='Lower number = higher priority')),
                ('max_per_day', models.PositiveIntegerField(default=100, help_text='Maximum SMS per day')),
                ('characters_per_sms', models.PositiveIntegerField(default=160)),
                ('total_sent', models.PositiveIntegerField(default=0)),
                ('successful_sent', models.PositiveIntegerField(default=0)),
                ('failed_sent', models.PositiveIntegerField(default=0)),
                ('last_used', models.DateTimeField(blank=True, null=True)),
                ('branch', models.ForeignKey(on_delete=django.db.models.deletion.PROTECT, to='clinics.branch')),
                ('created_by', models.ForeignKey(editable=False, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='created_%(class)s', to=settings.AUTH_USER_MODEL)),
                ('updated_by', models.ForeignKey(editable=False, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='updated_%(class)s', to=settings.AUTH_USER_MODEL)),
            ],
            options={
                'verbose_name': 'SMS Configuration',
                'verbose_name_plural': 'SMS Configurations',
                'ordering': ['priority', 'provider'],
                'indexes': [models.Index(fields=['provider', 'is_active'], name='settings_co_provide_333946_idx'), models.Index(fields=['is_active', 'priority'], name='settings_co_is_acti_2b537c_idx')],
            },
        ),
        migrations.CreateModel(
            name='SystemSetting',
            fields=[
                ('id', models.UUIDField(default=uuid.uuid4, editable=False, primary_key=True, serialize=False)),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('key', models.CharField(max_length=200, unique=True)),
                ('name', models.CharField(max_length=200)),
                ('description', models.TextField(blank=True)),
                ('category', models.CharField(choices=[('GENERAL', 'General Settings'), ('FINANCIAL', 'Financial Settings'), ('CLINICAL', 'Clinical Settings'), ('NOTIFICATION', 'Notification Settings'), ('INTEGRATION', 'Integration Settings'), ('SECURITY', 'Security Settings'), ('BACKUP', 'Backup Settings'), ('MAINTENANCE', 'Maintenance Settings')], default='GENERAL', max_length=50)),
                ('data_type', models.CharField(choices=[('STRING', 'String'), ('INTEGER', 'Integer'), ('DECIMAL', 'Decimal'), ('BOOLEAN', 'Boolean'), ('JSON', 'JSON'), ('DATETIME', 'DateTime'), ('DATE', 'Date'), ('TIME', 'Time'), ('CHOICE', 'Choice')], default='STRING', max_length=20)),
                ('string_value', models.CharField(blank=True, max_length=500)),
                ('integer_value', models.IntegerField(blank=True, null=True)),
                ('decimal_value', models.DecimalField(blank=True, decimal_places=4, max_digits=15, null=True)),
                ('boolean_value', models.BooleanField(blank=True, null=True)),
                ('json_value', models.JSONField(blank=True, default=dict)),
                ('datetime_value', models.DateTimeField(blank=True, null=True)),
                ('date_value', models.DateField(blank=True, null=True)),
                ('time_value', models.TimeField(blank=True, null=True)),
                ('choices', models.JSONField(blank=True, default=list, help_text='List of choices for CHOICE data type')),
                ('min_value', models.CharField(blank=True, max_length=100)),
                ('max_value', models.CharField(blank=True, max_length=100)),
                ('regex_pattern', models.CharField(blank=True, max_length=500)),
                ('is_editable', models.BooleanField(default=True)),
                ('requires_restart', models.BooleanField(default=False, help_text='Requires app restart to take effect')),
                ('requires_superuser', models.BooleanField(default=False, help_text='Only superuser can modify')),
                ('sort_order', models.PositiveIntegerField(default=0)),
                ('group_name', models.CharField(blank=True, max_length=100)),
                ('help_text', models.TextField(blank=True)),
                ('last_modified_at', models.DateTimeField(blank=True, null=True)),
                ('last_modified_by', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='modified_settings', to=settings.AUTH_USER_MODEL)),
            ],
            options={
                'verbose_name': 'System Setting',
                'verbose_name_plural': 'System Settings',
                'ordering': ['category', 'sort_order', 'name'],
                'indexes': [models.Index(fields=['key'], name='settings_co_key_914d53_idx'), models.Index(fields=['category', 'is_editable'], name='settings_co_categor_a6f754_idx'), models.Index(fields=['requires_superuser'], name='settings_co_require_111ce2_idx')],
            },
        ),
        migrations.CreateModel(
            name='TaxConfiguration',
            fields=[
                ('id', models.UUIDField(default=uuid.uuid4, editable=False, primary_key=True, serialize=False)),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('name', models.CharField(max_length=100)),
                ('tax_type', models.CharField(choices=[('GST', 'Goods and Services Tax (GST)'), ('VAT', 'Value Added Tax (VAT)'), ('SALES_TAX', 'Sales Tax'), ('SERVICE_TAX', 'Service Tax'), ('OTHER', 'Other')], default='GST', max_length=20)),
                ('rate', models.DecimalField(decimal_places=2, max_digits=5, validators=[django.core.validators.MinValueValidator(Decimal('0.00')), django.core.validators.MaxValueValidator(Decimal('100.00'))])),
                ('code', models.CharField(max_length=20, unique=True)),
                ('description', models.TextField(blank=True)),
                ('applicable_from', models.DateField(default=django.utils.timezone.now)),
                ('applicable_to', models.DateField(blank=True, null=True)),
                ('is_active', models.BooleanField(default=True)),
                ('apply_to_services', models.BooleanField(default=True)),
                ('apply_to_products', models.BooleanField(default=True)),
                ('apply_to_consultations', models.BooleanField(default=True)),
                ('sgst_rate', models.DecimalField(blank=True, decimal_places=2, help_text='State GST rate (for GST type)', max_digits=5, null=True)),
                ('cgst_rate', models.DecimalField(blank=True, decimal_places=2, help_text='Central GST rate (for GST type)', max_digits=5, null=True)),
                ('igst_rate', models.DecimalField(blank=True, decimal_places=2, help_text='Integrated GST rate (for interstate)', max_digits=5, null=True)),
                ('branch', models.ForeignKey(on_delete=django.db.models.deletion.PROTECT, to='clinics.branch')),
                ('created_by', models.ForeignKey(editable=False, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='created_%(class)s', to=settings.AUTH_USER_MODEL)),
                ('updated_by', models.ForeignKey(editable=False, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='updated_%(class)s', to=settings.AUTH_USER_MODEL)),
            ],
            options={
                'verbose_name': 'Tax Configuration',
                'verbose_name_plural': 'Tax Configurations',
                'ordering': ['name'],
                'indexes': [models.Index(fields=['code', 'is_active'], name='settings_co_code_baf2d0_idx'), models.Index(fields=['tax_type', 'is_active'], name='settings_co_tax_typ_d81720_idx'), models.Index(fields=['applicable_from', 'applicable_to'], name='settings_co_applica_6d1c57_idx')],
            },
        ),
    ]
